"What is output of the code:

#include <stdio.h> 
int main()
{
    float a        = 16777217;
    unsigned int b = 16777216;
 
    if (a > b)  printf(""a > b\n"");
    if (a < b)  printf(""a < b\n"");
    if (a == b) printf(""a == b\n"");
 
    return 0;
}

==> a == B

Theo chu·∫©n IEEE - 754 single prec√©ion (float 32 bit), float ch·ªâ bi·ªÉu di·ªÖn ch√≠nh x√°c ƒë·∫øn 2^24, t·ª©c c√°c gi√° tr·ªã l·ªõn h∆°n s·ªë n√†y khi kh·ªüi t·∫°o cho bi·∫øn c√≥ ki·ªÉu d·ªØ li·ªáu l√† float s·∫Ω b·ªã l√†m tr√≤n v·ªÅ 2 ^ 24.

T∆∞∆°ng t·ª± v·ªõi double, ch·ªâ bi·ªÉu di·ªÖn ch√≠nh x√°c s·ªë nguy√™n ƒë·∫øn 2^53

==================================================
double x = 9007199254740993;   // 2^53 + 1
double y = 9007199254740992;   // 2^53

if (x == y) printf("equal\n");

==================================================
#include <stdio.h>

int main() {
    float a = 1000000000;
    float b = a + 1;

    if (a == b)
        printf("equal\n");   // in ra "equal"
    else
        printf("not equal\n");
}



V√¨ float ƒë·ªô ph√¢n gi·∫£i ·ªü m·ª©c 1e9 l√† ~128‚Üí +1 kh√¥ng thay ƒë·ªïi gi√° tr·ªã

Nghƒ©a l√† t·∫°i gi√° tr·ªã ~1e9, float ch·ªâ nh·∫≠n c√°c b∆∞·ªõc nh·∫£y 128 ƒë∆°n v·ªã tr·ªü l√™n
Khi b·∫°n c·ªông 1 v√†o 1e9, 1 qu√° nh·ªè ƒë·ªÉ float l∆∞u ch√≠nh x√°c, n√™n k·∫øt qu·∫£ b = 1e9 lu√¥n.

==================================================
float x = 1000000000;
float y = 999999999;

printf("%f\n", x - y);

üîπ Ph√¢n t√≠ch:

x v√† y l√† float l·ªõn (~1e9).

ƒê·ªô ph√¢n gi·∫£i float t·∫°i ~1e9 l√† ~128 (nh∆∞ √Ω 3).

Nghƒ©a l√† float kh√¥ng th·ªÉ bi·ªÉu di·ªÖn ch√≠nh x√°c c√°c s·ªë nguy√™n c√°ch nhau < 128.

‚Üí Gi√° tr·ªã y = 999999999 s·∫Ω b·ªã l√†m tr√≤n th√†nh 1000000000 trong float.

Khi tr·ª´ x - y:


M·∫∑c d√π trong to√°n h·ªçc l√Ω thuy·∫øt x - y = 1, nh∆∞ng float kh√¥ng ƒë·ªß ch√≠nh x√°c ‚Üí k·∫øt qu·∫£ l√† 0.0.

==================================================
ƒê·ªô ch√≠nh x√°c (precision) c·ªßa float

float trong C l√† IEEE 754 single-precision (32-bit):

1 bit sign

8 bit exponent

23 bit mantissa (fraction)

Mantissa 23 bit ‚Üí c√≥ th·ªÉ l∆∞u t·∫•t c·∫£ c√°c s·ªë nguy√™n li√™n ti·∫øp t·ªõi 2¬≤¬≥ = 8,388,608 m·ªôt c√°ch ch√≠nh x√°c 100%.

V·ªõi exponent tƒÉng l√™n (s·ªë l·ªõn h∆°n), kho·∫£ng c√°ch gi·ªØa c√°c s·ªë nguy√™n li√™n ti·∫øp c≈©ng tƒÉng l√™n, v√¨ float d√πng normalized scientific notation.

