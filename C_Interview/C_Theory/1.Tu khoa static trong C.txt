Format:
1. KhÃ¡i niá»‡m
2. PhÃ¢n loáº¡i, so sÃ¡nh cÃ¡c loáº¡i, vÃ¬ sao láº¡i cÃ³ Ä‘áº·c Ä‘iá»ƒm Ä‘Ã³, Ä‘áº·c Ä‘iá»ƒm Ä‘Ã³ Ä‘áº¿n tá»« Ä‘Ã¢u?
3. TÃ¡c dá»¥ng? Khi nÃ o thÃ¬ dÃ¹ng?

KhÃ¡i niá»‡m: Static lÃ  1 tá»« khÃ³a trong C nÃ³ Ä‘Æ°á»£c vá»›i cáº£ biáº¿n vÃ  hÃ m. 
+ Khi dÃ¹ng vá»›i Biáº¿n thÃ¬ biáº¿n Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»i lÃ  biáº¿n tÄ©nh
+ Khi dÃ¹ng vá»›i HÃ m thÃ¬ hÃ m Ä‘Ã³ Ä‘Æ°á»£c gá»i lÃ  hÃ m tÄ©nh

PhÃ¢n loáº¡i: Static cÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»£c vá»›i cáº£ biáº¿n local vÃ  global
+ Local static variable
+ Global Static variable

Äáº·c Ä‘iá»ƒm:

- ========================Äá»‘i vá»›i local Static variable===================================: 
+ Scope (pháº¡m vi): thÃ¬ nÃ³ cÅ©ng váº«n giá»‘ng nhÆ° biáº¿n Normal local lÃ  bá»‹ giá»›i háº¡n pháº¡m vi trong 1 hÃ m hay 1 block code { }
+ Lifetime: NÃ³ cÃ³ sá»± khÃ¡c biá»‡t so vá»›i biáº¿n Normal local lÃ  giÃ¡ trá»‹ trong biáº¿n local static variable thÃ¬ sáº½ Ä‘Æ°á»£c báº£o toÃ n cho Ä‘áº¿n khi chÆ°Æ¡ng trÃ¬nh Ä‘Ã³ káº¿t thÃºc. Hay nÃ³i cÃ¡ch khÃ¡c local static Ä‘ang Ä‘Æ°á»£c nÃ¢ng táº§m gáº§n giá»‘ng nhÆ° 1 biáº¿n global vá» máº·t lÆ°u trá»¯ giÃ¡ trá»‹.

-> Táº¡i sao láº¡i cÃ³ thá»ƒ lÆ°u trá»¯ giÃ¡ trá»‹ Ä‘Æ°á»£c nhÆ° váº­y?
 LÃ­ do: Biáº¿n local bÃ¬nh thÆ°á»ng thÃ¬ sáº½ Ä‘Æ°á»£c allocate vÃ o stack segment. NhÆ°ng Ä‘á»‘i vá»›i local static variable thÃ¬ nÃ³ sáº½ Ä‘Æ°á»£c allocate vÃ o data/bss tÃ¹y thuá»™c vÃ o tráº¡ng thÃ¡i khá»Ÿi táº¡o cá»§a nÃ³.

VÃ­ dá»¥: int a; int b = 0;                        ---> allocate BSS
       int c = 10; (init giÃ¡ trá»‹ cá»¥ thá»ƒ khÃ¡c 0) ---> allocate Data
	
Äáº·c Ä‘iá»ƒm cá»§a vÃ¹ng Data sengment lÃ : 
+ChÃºng cÃ³ thá»ƒ cho phÃ©p truy cáº­p vÃ o vÃ¹ng nhá»› nÃ y Ä‘á»ƒ Read/Write giÃ¡ trá»‹
+GiÃ¡ trá»‹ bÃªn trong vÃ¹ng nhá»› nÃ y sáº½ Ä‘Æ°á»£c tá»“n táº¡i cho Ä‘áº¿n khi chÆ°Æ¡ng trÃ¬nh káº¿t thÃºc
---> CHÃ­nh vÃ¬ váº­y biáº¿n global má»›i cÃ³ Ä‘áº·c Ä‘iá»ƒm nhÆ° trÃªn.

Äáº·c Ä‘iá»ƒm cá»§a vÃ¹ng BSS sengment lÃ : 
+ChÃºng cÃ³ thá»ƒ cho phÃ©p truy cáº­p vÃ o vÃ¹ng nhá»› nÃ y Ä‘á»ƒ Read/Write giÃ¡ trá»‹
+GiÃ¡ trá»‹ bÃªn trong vÃ¹ng nhá»› nÃ y sáº½ Ä‘Æ°á»£c tá»“n táº¡i cho Ä‘áº¿n khi chÆ°Æ¡ng trÃ¬nh káº¿t thÃºc
---> CHÃ­nh vÃ¬ váº­y biáº¿n global má»›i cÃ³ Ä‘áº·c Ä‘iá»ƒm nhÆ° trÃªn

+ Äá»‘i vá»›i biáº¿n normal local: thÃ¬ chÃºng sáº½ Ä‘Æ°á»£c phÃ¢n bá»• vÃ o Stack segment 

Äáº·c Ä‘iá»ƒm Stack segment nÃ y: + CÅ©ng cÃ³ thá»ƒ cho phÃ©p truy cáº­p Read/Write giÃ¡ trá»‹
                            + Tuy nhiÃªn giÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u trá»¯ trong vÃ¹ng nhá»› nÃ y sáº½ tá»± Ä‘Æ°á»£c giáº£i phÃ³ng vÃ  bá»‹ thu há»“i vÃ¹ng nhá»› sau khi mÃ  biáº¿n Ä‘Ã³ Ä‘Ã£ Ä‘Æ°á»£c gá»i
							. ÄÃ¢y lÃ  cÆ¡ cháº¿ cá»§a vÃ¹ng nhá»› Stack
--> ChÃ­nh vÃ¬ váº­y biáº¿n local mang Ä‘áº·c Ä‘iá»ƒm cá»§a vÃ¹ng nhá»› Stack. 


- ========================Äá»‘i vá»›i Global Static variable===================================: 
+ Scope (pháº¡m vi): Biáº¿n global Static varibale nÃ³ lÃ  biáº¿n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c bá»Ÿi cÃ¡c hÃ m trong cÃ¹ng file .c mÃ  nÃ³ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a. KhÃ´ng thá»ƒ Ä‘Æ°á»£c gá»i tá»« file khÃ¡c. 
+Lifetime: GiÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u trá»¯ bÃªn trong global static variable cÅ©ng giá»‘ng nhÆ° biáº¿n normal global tá»©c lÃ  giÃ¡ trá»‹ sáº½ Ä‘Æ°á»£c báº£o toÃ n cho Ä‘áº¿n khi chÆ°Æ¡ng trÃ¬nh káº¿t thÃºc.

- Äiá»ƒm nhau giá»¯a normal global vÃ  global static variable lÃ  vá» máº·t pháº¡m vi gá»i trong cÃ¡c file
+ Normal golbal: thÃ¬ cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i trong cáº£ cÃ¡c file khÃ¡c báº±ng cÃ¡ch dÃ¹ng tá»« khÃ³a extern 
+ Global static varible: thÃ¬ nÃ³ chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i á»Ÿ file mÃ  nÃ³ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a vÃ  khÃ´ng thá»ƒ dÃ¹ng vá»›i extern 

Táº¡i sao mÃ  biáº¿n global static varaible láº¡i bá»‹ giá»›i háº¡n pháº¡m vi nhÆ° váº­y? 
-> Trong quÃ¡ trÃ¬nh biÃªn dá»‹ch, má»—i file .c sáº½ Ä‘Æ°á»£c compiler biáº¿n dá»‹ch thÃ nh file .o tÆ°Æ¡ng á»©ng. Sau Ä‘Ã³, linker sáº½ linking cÃ¡c file .o nÃ y thÃ nh má»™t file hoÃ n chá»‰nh (.elf, .exe,..). Trong giai Ä‘Ã³ cÃ³ 3 loáº¡i linkage tá»©c chá»‰ má»©c Ä‘á»™ nhÃ¬n tháº¥y visibility cá»§a biáº¿n hoáº·c hÃ m giá»¯a cÃ¡c file trong chÆ°Æ¡ng trÃ¬nh. Hay nÃ³i cÃ¡ch khÃ¡c linkage cho biáº¿n biáº¿n hoáº·c hÃ m cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng á»Ÿ file khÃ¡c hay chá»‰ trong file hiá»‡n táº¡i.

+ Khi khai bÃ¡o biáº¿n normal global thÃ¬ máº·c Ä‘á»‹nh biáº¿n Ä‘Ã³ sáº½ mang kiá»ƒu liÃªn káº¿t external linkage vÃ  trong quÃ¡ trÃ¬nh linker thÃ¬ nÃ³ sáº½ Ä‘Æ°á»£c linking vá»›i cÃ¡c file .o náº¿u biáº¿n hoáº·c hÃ m cÃ³ Ä‘Æ°á»£c dÃ¹ng á»Ÿ file khÃ¡c
+ Tuy nhiÃªn Ä‘á»‘i vá»›i Static global varaible thÃ¬ lÃºc nÃ y biáº¿n nÃ y sáº½ thuá»™c kiá»ƒu linkage internal vÃ  trong quÃ¡ trÃ¬nh linker thÃ¬ nÃ³ sáº½ khÃ´ng Ä‘Æ°á»£c linking vá»›i cÃ¡c file khÃ¡c. ChÃ­nh vÃ¬ váº­y, mÃ  biáº¿n global static varaible chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c táº¡i nÆ¡i mÃ  nÃ³ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a. 
Static khi dÃ¹ng á»Ÿ má»©c global khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n lifetime, chá»‰ thay Ä‘á»•i linkage tá»« external â†’ internal

ğŸ“Œ Lifetime phá»¥ thuá»™c vÃ o nÆ¡i trá»¯ trong bá»™ nhá»› (data/bss)
ğŸ“Œ Scope phá»¥ thuá»™c vÃ o nÆ¡i Ä‘á»‹nh nghÄ©a trong code (block)

TÃ¡c dá»¥ng: 
+ Báº£o vá»‡ 1 biáº¿n hay 1 hÃ m khÃ´ng bá»‹ sá»­ dá»¥ng bá»Ÿi file khÃ¡c hay ngÆ°á»i khÃ¡c.
+ TrÃ¡nh Ä‘Æ°á»£c nhá»¯ng lá»—i sai logic khi liÃªn tá»¥c sá»­ dá»¥ng giÃ¡ trá»‹ cá»§a 1 biáº¿n á»Ÿ nhiá»u file khÃ¡c nhau. ThÃ¬ lÃºc náº¿u cÃ³ xáº£y ra sai logic thÃ¬ cÅ©ng dá»… debug. 
+ Giáº£m xung Ä‘á»™t tÃªn (name conflict)
Khi nhiá»u file cÃ³ biáº¿n tÃªn giá»‘ng nhau, dÃ¹ng static Ä‘áº£m báº£o linker khÃ´ng láº«n.

Khi nÃ o thÃ¬ dÃ¹ng:
+ Do ngÆ°á»i láº­p trÃ¬nh muá»‘n hay khÃ´ng muá»‘n sá»­ dá»¥ng tá»« static vÃ o 1 biáº¿n hay hÃ m.
 
âœ” Khi dÃ¹ng local static

Muá»‘n biáº¿n giá»¯ giÃ¡ trá»‹ giá»¯a cÃ¡c láº§n gá»i hÃ m

DÃ¹ng cho counter, state machine, debouncing, Ä‘áº¿m sá»‘ gá»i hÃ m, ...

âœ” Khi dÃ¹ng global static

Muá»‘n áº©n dá»¯ liá»‡u trong 1 file (giá»‘ng private trong OOP)

TrÃ¡nh nhiá»u file truy cáº­p lung tung

Giáº£m sá»± phá»¥ thuá»™c giá»¯a file

TrÃ¡nh xung Ä‘á»™t tÃªn

Example:

#include <stdio.h>

void countFunctionCall()
{
	static int count = 0;
	count++;
	printf("Function called %d time\n", count);
}

int main()
{
	countFunctionCall();
	countFunctionCall();
	countFunctionCall()
	return 0;
}


Example:

A.c

#include<stdio.h>

static int secretValue = 2025;

void printSecret()
{
	printf("Secret = %d", secretValue);
}

B.c

#include<stdio.h>

void printSecret();

int main() 
{
    printSecret();   
    return 0;
}